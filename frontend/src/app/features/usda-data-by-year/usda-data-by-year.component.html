<div class="container">

  <div class="row">
    <div class="d-flex flex-row mb-3">
      <div class="col-md-5 mt-3">
        <h2 class="mt-1">Compare Usda Data by Year</h2>
        <p *ngIf="!newUsdaData$">Select multiple years for comparison</p>
      </div>
      <div class="mx-1">
        <select class="form-select mt-4" aria-label="Default select example" (change)="onSelectCommodity($event)">
          <option selected>Commodity</option>
          <option value="CORN">Corn</option>
          <option value="SOYBEANS">Soybeans</option>
        </select>
      </div>
      <div class="mx-1" style="width: 12%;">
        <select class="form-select mt-4" aria-label="Default select example" (change)="onSelectMetric($event)">
          <option selected>Metric</option>
          <option value="AREA PLANTED">Acres Planted</option>
          <option value="ETHANOL USAGE">Ethanol Usage</option>
          <option value="STOCKS">Stocks</option>
        </select>
      </div>
      <div class="mx-1">
        <select class="form-select  mt-4" multiple aria-label="Default select example" (change)="onSelectYear($event)">
          <option selected>Years</option>
            <option value="2024">2024</option>
            <option value="2023">2023</option>
            <option value="2022">2022</option>
            <option value="2021">2021</option>
            <option value="2020">2020</option>
        </select>
        
      </div>
      <div class="mt-4 ">
        <button class="btn btn-primary mx-1" *ngIf="!isLoading"
          (click)="loadDataWithParams(selectedMetric, selectedCommodity, selectedYear, selectedShortDesc)">Go</button>
        <button class="btn btn-primary" type="button" disabled *ngIf="isLoading">
          <span class="spinner-border spinner-border-sm me-1" role="status" aria-hidden="true"></span>
          Go...
        </button>
        <!-- <button class="btn btn-secondary mx-1" (click)="reload()">Refresh</button> -->
      </div>
    </div>

    <ng-container *ngIf="newUsdaData$">
      <div class="row">
        <div class="col-xl-12">
          <div class="card">
            <div class="card-body">
              <div *ngIf="isLoading" class="d-flex justify-content-center ">
                <h3>...loading</h3>
              </div>
              <!-- <ngb-progressbar *ngIf="isLoading"
                    [value]="75"
                    [striped]="true"
                    [animated]="true"
                  ></ngb-progressbar> -->
              <img *ngIf="!isLoading" src="../../../assets/images/zaner-ag-hedge-white-logo.svg" alt="Zaner Ag Hedge"
                height="70" style="background-color: rgba(13,110,253,1.0);" class="p-2">
              <div dir="ltr">
                <div>
                  <canvas id="linechart"></canvas>
                </div>
              </div>
            </div>
            <!-- end card body-->
          </div>
          <!-- end card -->
        </div>
        <!-- end col-->
      </div>
      <!-- end row-->
    </ng-container>
  </div>